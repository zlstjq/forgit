<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="UTF-8">
		<meta id="viewport" name="viewport" content=target-densitydpi="760" />
		<link rel="stylesheet" href="jquery.mobile/jquery.mobile-1.4.5.min.css"/>
		<script src="jquery.mobile/jquery-1.11.1.min.js"></script>
		<script src="jquery.mobile/jquery.mobile-1.4.5.min.js"></script>
		<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css">
		<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
		<script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
		<link href="http://cdnjs.cloudflare.com/ajax/libs/fotorama/4.5.1/fotorama.css" rel="stylesheet">
		<script src="http://cdnjs.cloudflare.com/ajax/libs/fotorama/4.5.1/fotorama.js"></script>
		<script src="db.js"></script>

		<style type="text/css">
			table {
				margin-top: 4%;
				margin-left: 16%;
			}

			.im {
				width: 90%;
				height: 80%;
			}

			#mainPage {
				background-repeat: no-repeat;
				background-size: cover;
			}

			.eff {
				border-radius: 7px;
				width: 180px;
				height: 30px;
				background-color: white;
			}

			#dialog52 {
				font-size: 10px;
				font-weight: bold;
			}

		</style>

		<script>
			$(document).ready(function() {
				openDB();
				createTable();
				createTable2();
				createTable3();
				createTable4();
				createTable5();

				$(".ani").animate({
					left : '50px'
				});

				$("#dialog").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#dialog2").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#qt").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#qt2").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#qt3").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#qt4").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#qt5").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#qt6").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#qt7").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#qt8").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#dialog4").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#dialog5").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#dialog52").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#dialog53").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#dialog6").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#dialog7").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#dialog8").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#dialog9").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#dialog10").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#dialog11").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#ale").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#hint2").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#hint6").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#hint5").dialog({
					autoOpen : false, //자동으로 열리지않게
				});

				$("#game").on("click", function() {
					location.href = "game.html";
				});

				$("#hint").on("click", function() {
					$("#hint2").dialog("open");
					$("#dialog").dialog("close");
					$("#dialog2").dialog("close");
					$("#dialog5").dialog("close");
				});

				$("#hint3").on("click", function() {
					$("#hint5").dialog("open");
					$("#hint2").dialog("close");

				});

				$("#hint4").on("click", function() {
					$("#hint6").dialog("open");
					$("#hint2").dialog("close");
				});

				$("#back").on("click", function() {
					location.href = "index.html";
				});

				$("#setting").on("click", function() {
					$("#dialog").dialog("open");
					$("#dialog2").dialog("close");
					$("#dialog5").dialog("close");
					$("#hint2").dialog("close");
				});

				$("#user").on("click", function() {
					$("#dialog2").dialog("open");
					$("#dialog").dialog("close");
					$("#dialog5").dialog("close");
					$("#hint2").dialog("close");
				});

				$("#ok").on("click", function() {
					del3();
					insert4();
					$("#dialog11").dialog("open");
					$("#dialog").dialog("close");

				});

				$("#re").on("click", function() {

					record(0);
					$("#dialog2").dialog("close");
					$("#hint2").dialog("close");

				});

				$("#ac").on("click", function() {
					$("#dialog4").dialog("open");
					$("#dialog2").dialog("close");
					$("#hint2").dialog("close");
				});

				$("#edit").on("click", function() {
					$("#dialog5").dialog("open");
					$("#dialog2").dialog("close");
					$("#dialog").dialog("close");
					$("#hint2").dialog("close");
				});

				$("#make").on("click", function() {
					$("#dialog5").dialog("close");
					$("#dialog52").dialog("open");
				});

				$("#delete").on("click", function() {
					$("#dialog5").dialog("close");
					$("#dialog53").dialog("open");

				});

				$("#delbu").on("click", function() {
					var de = $("#del").val();

					if (!(de == ""))
						del(de);
					else
						$("#dialog9").dialog("open");
				});

				$("#search").on("click", function() {
					var de = $("#del").val();
					if (!(de == "")) {
						select3(de);
					} else
						$("#dialog9").dialog("open");
				});

				$("#si7").on("click", function() {
					insert2();
					$("#dialog5").dialog("close");
				});

				$("#hi3").on("click", function() {

					insert3();
					$("#hint5").dialog("close");
				});

				$("#hi6").on("click", function() {
					var hh = $("#hi4").val();
					select4(hh);
				});

				$("#hi7").on("click", function() {
					var hhh = $("#hi4").val();

					if (!(hhh == ""))
						del(hhh);
					else
						$("#dialog9").dialog("open");
				});

				$("#load").on("click", function() {
					$.ajax({
						url : 'http://18.208.57.18:8080/load',
						dataType : 'json',
						type : 'POST',
						success : function(result) {
							var i = result[0].num;
							var score = result[0].score;
							insert(i, score);
							location.href = "fire.html";
						},
						fail : function(err) {
							console.log(err);
						}
					});

				});

			});
		</script>
	</head>
	<body>
		<div data-role="page" id="mainPage" style="background-image:url(image/two.png)">
			<div  data-role="header" data-position="fixed">
				<a style="width: 65px;" id="back" data-icon="refresh" class="ui-btn-right" >logout</a>
				<a style="margin-top: 40px; width: 65px;" id="setting" data-icon="gear" class="ui-btn-right" >setting</a>
				<a style="margin-top: 80px; width: 65px;" id="user" data-icon="user" class="ui-btn-right" >UserInfo</a>
				<a style="margin-top: 120px; width: 65px;" id="edit" data-icon="edit" class="ui-btn-right" >Scenario</a>
				<a style="margin-top: 160px; width: 65px;" id="hint" data-icon="edit" class="ui-btn-right" >Hint</a>
			</div>
			<div data-role="content" id="content">

				<div style="background-color: #F6F6F6" id="dialog" title="설정">

					<br>
					<label for="sc">볼륨</label>
					<input type="range" name="sc" id="sc" value="50" min="0" max="100"/>
					<br>

					<label for="sa">기록저장</label>
					<select name="sa" id="sa" data-role="slider">
						<option value="on">on</option>
						<option value="off">off</option>
					</select>
					<br>
					<br>
					<input type="button" id="ok" value="저장"/>
					<br>
				</div>

				<div style="background-color: #F6F6F6" id="dialog2" title="기록">
					<table>
						<tr>
							<td style="width: 180px">
							<input type="button" id="re" value="기록 보기"/>
							</td>
						</tr>
					</table>
					<table>
						<tr>
							<td style="width: 180px">
							<input type="button" id="ac" value="업적 보기"/>
							</td>
						</tr>
					</table>
					<br>
				</div>

				<div style="background-color: #F6F6F6" id="qt" title="기록">
					<div class="fotorama" data-arrows="true" data-width="260%"  data-allowfullscreen="true" data-nav="thumbs" >
						<img src="image/nodata.png" data-caption="잠긴 기록입니다." />
						<img src="image/nodata.png" data-caption="잠긴 기록입니다." />
						<img src="image/nodata.png" data-caption="잠긴 기록입니다." />
					</div>
				</div>

				<div style="background-color: #F6F6F6" id="qt2" title="기록">
					<div class="fotorama" data-arrows="true" data-width="260%"  data-allowfullscreen="true" data-nav="thumbs" >
						<img src="image/record.png" data-caption="전설의 소방관" />
						<img src="image/nodata.png" data-caption="잠긴 기록입니다." />
						<img src="image/nodata.png" data-caption="잠긴 기록입니다." />
					</div>
				</div>

				<div style="background-color: #F6F6F6" id="qt3" title="기록">
					<div class="fotorama" data-arrows="true" data-width="260%"  data-allowfullscreen="true" data-nav="thumbs" >
						<img src="image/nodata.png" data-caption="잠긴 기록입니다." />
						<img src="image/over.png" data-caption="사다리 타기 실패.." />
						<img src="image/nodata.png" data-caption="잠긴 기록입니다." />
					</div>
				</div>

				<div style="background-color: #F6F6F6" id="qt4" title="기록">
					<div class="fotorama" data-arrows="true" data-width="260%"  data-allowfullscreen="true" data-nav="thumbs" >
						<img src="image/nodata.png" data-caption="잠긴 기록입니다." />
						<img src="image/nodata.png" data-caption="잠긴 기록입니다." />
						<img src="image/fail.jpg" data-caption="CPR 실패.." />
					</div>
				</div>

				<div style="background-color: #F6F6F6" id="qt5" title="기록">
					<div class="fotorama" data-arrows="true" data-width="260%"  data-allowfullscreen="true" data-nav="thumbs" >
						<img src="image/record.png" data-caption="전설의 소방관" />
						<img src="image/over.png" data-caption="사다리 타기 실패.." />
						<img src="image/nodata.png" data-caption="잠긴 기록입니다." />
					</div>
				</div>

				<div style="background-color: #F6F6F6" id="qt6" title="기록">
					<div class="fotorama" data-arrows="true" data-width="260%"  data-allowfullscreen="true" data-nav="thumbs" >
						<img src="image/record.png" data-caption="전설의 소방관" />
						<img src="image/nodata.png" data-caption="잠긴 기록입니다." />
						<img src="image/fail.jpg" data-caption="CPR 실패.." />
					</div>
				</div>

				<div style="background-color: #F6F6F6" id="qt7" title="기록">
					<div class="fotorama" data-arrows="true" data-width="260%"  data-allowfullscreen="true" data-nav="thumbs" >
						<img src="image/nodata.png" data-caption="잠긴 기록입니다." />
						<img src="image/over.png" data-caption="사다리 타기 실패.." />
						<img src="image/fail.jpg" data-caption="CPR 실패.." />
					</div>
				</div>

				<div style="background-color: #F6F6F6" id="qt8" title="기록">
					<div class="fotorama" data-arrows="true" data-width="260%"  data-allowfullscreen="true" data-nav="thumbs" >
						<img src="image/record.png" data-caption="전설의 소방관" />
						<img src="image/over.png" data-caption="사다리 타기 실패.." />
						<img src="image/fail.jpg" data-caption="CPR 실패.." />
					</div>
				</div>

				<div style="background-color: #F6F6F6" id="dialog4" title="업적">
					<br>
					<img id="cr" width="265px" height="80px" src="image/test.png">
					<img id="cr" width="265px" height="80px" src="image/test1.png">
					<img id="cr" width="265px" height="80px" src="image/test3.png">
					<img id="cr" width="265px" height="80px" src="image/test4.png">
					<br>
					<br>
				</div>

				<div style="background-color: #F6F6F6" id="dialog5" title="시나리오 관리">
					<table>
						<tr>
							<td style="width: 180px">
							<input type="button" id="make" value="시나리오 만들기"/>
							</td>
						</tr>
					</table>
					<table>
						<tr>
							<td style="width: 180px">
							<input type="button" id="delete" value="시나리오 삭제"/>
							</td>
						</tr>
					</table>
					<br>
				</div>

				<div style="background-color: #F6F6F6;" id="dialog52" title="시나리오 만들기">

					직업 &nbsp;
					<select  id="si" data-inline="true">
						<option value="">선택하세요</option>
						<option value="creator">크리에이터</option>
						<option value="fireman">소방관</option>
						<option value="policeman">경찰관</option>
					</select>
					<br>

					파트
					<input type="text" id="si1">

					상황설명
					<input type="text" id="si2">

					선택지
					<input type="text" value="" id="si3" placeholder="1. 비워두면 선택지 없이 상황 설명만 주어집니다.">
					<input type="text" value="" id="si4" placeholder="2.">
					<input type="text" value="" id="si5" placeholder="3.">

					사진
					<input type="file" id="si6" />

					<br>
					<input type="button" id="si7" value="저장"/>
				</div>

				<div style="background-color: #F6F6F6;" id="dialog53" title="시나리오 삭제">

					<div data-role="content" style="font-size: 10px; font-weight: bold">

						직업 &nbsp;
						<select id="si" data-inline="true">
							<option value="">선택하세요</option>
							<option value="creator">크리에이터</option>
							<option value="fireman">소방관</option>
							<option value="policeman">경찰관</option>
						</select>
						<br>

						파트
						<input type="text" value="" id="del" placeholder="지우거나 검색하고 싶은 파트를 입력">
						<br>
						상황설명
						<input type="text" id="del2">

						선택지
						<input type="text" value="" id="del3" placeholder="1">
						<input type="text" value="" id="del4" placeholder="2">
						<input type="text" value="" id="del5" placeholder="3">

					</div>

					<div align="center" style="border: none;" data-role="footer">
						<input type="button" id="search" value="검색"/>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						<input type="button" id="delbu" value="삭제"/>
					</div>
				</div>

				<div style="background-color: #F6F6F6" id="hint2" title="힌트 관리">
					<table>
						<tr>
							<td style="width: 180px">
							<input type="button" id="hint3" value="힌트 만들기"/>
							</td>
						</tr>
					</table>
					<table>
						<tr>
							<td style="width: 180px">
							<input type="button" id="hint4" value="힌트 삭제"/>
							</td>
						</tr>
					</table>
					<br>
				</div>

				<div style="background-color: #F6F6F6;" id="hint5" title="힌트 추가">

					직업 &nbsp;
					<select id="hi" data-inline="true">
						<option value="">선택하세요</option>
						<option value="creator">크리에이터</option>
						<option value="fireman">소방관</option>
						<option value="policeman">경찰관</option>
					</select>
					<br>

					파트
					<input type="text" id="hi1">

					힌트 내용
					<input type="text" id="hi2">

					<br>
					<input type="button" id="hi3" value="저장"/>
				</div>

				<div style="background-color: #F6F6F6;" id="hint6" title="힌트 삭제">

					<div data-role="content" style="font-size: 10px; font-weight: bold">

						직업 &nbsp;
						<select id="si" data-inline="true">
							<option value="">선택하세요</option>
							<option value="creator">크리에이터</option>
							<option value="fireman">소방관</option>
							<option value="policeman">경찰관</option>
						</select>
						<br>

						파트
						<input type="text" value="" id="hi4" placeholder="지우거나 검색하고 싶은 파트를 입력">
						<br>
						힌트 내용
						<input type="text" id="hi5">

					</div>

					<div align="center" style="border: none;" data-role="footer">
						<input type="button" id="hi6" value="검색"/>
						&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
						<input type="button" id="hi7" value="삭제"/>
					</div>
				</div>

				<div style="background-color: #F6F6F6;" id="dialog6" title="success">
					<h4 style="text-align: center">생성이 완료되었습니다!</h4>
				</div>

				<div style="background-color: #F6F6F6;" id="dialog7" title="fail">
					<h4 style="text-align: center">빈칸을 모두 채워주세요</h4>
				</div>

				<div style="background-color: #F6F6F6;" id="dialog8" title="fail">
					<h4 style="text-align: center">삭제가 완료되었습니다.</h4>
				</div>

				<div style="background-color: #F6F6F6;" id="ale" title="fail">
					<h4 style="text-align: center">이미 만들어진 파트입니다.</h4>
				</div>

				<div style="background-color: #F6F6F6;" id="dialog9" title="fail">
					<h4 style="text-align: center">파트를 입력해주세요</h4>
				</div>

				<div style="background-color: #F6F6F6;" id="dialog10" title="fail">
					<h4 style="text-align: center">만들어지지 않은 파트입니다.</h4>
				</div>

				<div style="background-color: #F6F6F6;" id="dialog11" title="fail">
					<h4 style="text-align: center">저장 되었습니다.</h4>
				</div>

				<table align="center">

					<tr>
						<td align="center"><img class="im" src="image/s.png"></td>
					</tr>

					<tr>
						<td align="center">
						<button id="game" style="width: 40%; height: 60px; margin-top:15%; background-color:#FAFaFa">
							새로하기
						</button></td>
					</tr>
					<tr>
						<td align="center">
						<button id="load" style="width: 40%; height: 60px; margin-top:5%;  background-color:#FAFaFa">
							이어하기
						</button></td>
					</tr>

				</table>
			</div>
		</div>

	</body>
</html>